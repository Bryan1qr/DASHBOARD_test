---
title: "Beta demo"
format: dashboard
filters: 
  - shinylive
---

# Part1

```{shinylive-r}
#| standalone: true
#| viewerHeight: 700

library(shiny)
library(leaflet)
library(bslib)

# Definir los puntos de monitoreo
puntos <- data.frame(
  id = c("Punto 1", "Punto 2", "Punto 3"),
  lat = c(19.4326, 20.6592, 18.7357),  # Latitudes de ejemplo (ajústalas)
  lon = c(-99.1332, -103.3496, -70.1591),  # Longitudes de ejemplo (ajústalas)
  descripcion = c("Monitoreo de calidad del aire", 
                  "Monitoreo de temperatura", 
                  "Monitoreo de humedad")
)

# Interfaz de usuario
ui <- fluidPage(
  
  titlePanel("Mapa de Puntos de Monitoreo"),
  
  # Menú desplegable para seleccionar el punto
  selectInput("punto", "Selecciona un Punto de Monitoreo:",
              choices = puntos$id),
  
  # Mapa interactivo
  leafletOutput("mapa", height = 500)
)

# Servidor
server <- function(input, output, session) {
  
  # Generar el mapa
  output$mapa <- renderLeaflet({
    
    # Filtrar el punto seleccionado
    punto_seleccionado <- puntos[puntos$id == input$punto, ]
    
    # Crear el mapa con el punto seleccionado
    leaflet(data = punto_seleccionado) %>%
      addTiles() %>%
      addMarkers(lng = punto_seleccionado$lon, lat = punto_seleccionado$lat,
                 popup = punto_seleccionado$descripcion)
  })
}

# Ejecutar la aplicación
shinyApp(ui = ui, server = server)
```

